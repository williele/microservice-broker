sources:
  default:
    serializer: 'arvo'
    transporter:
      name: 'nats'
      options:
        servers:
          - 'http://localhost:4444'
  canary:
    serializer: 'arvo'
    transporter:
      name: 'nats'
      options:
        servers:
          - 'http://wifood.sytes.net/nats'

# external services
externals:
  user:
    source: 'candis'

services:
  nest_gateway:
    schema: 'apps/nest-gateway/broker-schema.json'
    source: 'default'
    generate:
      output: 'node_modules/.broker/nest_gateway'
    dependencies:
      nest_service:
        alias: 'nest'

  nest_service:
    serviceName: 'nest'
    source: 'default'
    schema: 'apps/nest-service/broker-schema.json'
